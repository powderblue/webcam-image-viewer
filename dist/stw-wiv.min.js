!function(document){class Validators{static nonEmptyString(something){return"string"==typeof something&&0<something.length}static alphanumericString(something){return this.nonEmptyString(something)&&/^[a-zA-Z0-9]+$/.test(something)}}class DomHelper{constructor(document){this.document=document}addStylesheet(css){this.document.head.appendChild(this.document.createElement("style")).innerHTML=css}attachHtmlTo(html,destElem,method){var templateElem=destElem.appendChild(destElem.ownerDocument.createElement("template"));return templateElem.innerHTML=html,destElem[method](templateElem.content),templateElem.remove(),"append"===method?destElem.lastElementChild:destElem.firstElementChild}appendTo(elemOrHtml,destElem){return elemOrHtml instanceof Element?destElem.appendChild(elemOrHtml):this.attachHtmlTo(elemOrHtml,destElem,"append")}}class WebcamImageViewer{static IMAGE_ANIMATION_ID="stw-wiv-image";static PIXELS_PER_SEC=76;static ICONS={pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\x3c!--!Font Awesome Pro 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--\x3e<path d="M48 96c-8.8 0-16 7.2-16 16l0 288c0 8.8 7.2 16 16 16l48 0c8.8 0 16-7.2 16-16l0-288c0-8.8-7.2-16-16-16L48 96zM0 112C0 85.5 21.5 64 48 64l48 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-48 0c-26.5 0-48-21.5-48-48L0 112zM224 96c-8.8 0-16 7.2-16 16l0 288c0 8.8 7.2 16 16 16l48 0c8.8 0 16-7.2 16-16l0-288c0-8.8-7.2-16-16-16l-48 0zm-48 16c0-26.5 21.5-48 48-48l48 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-48 0c-26.5 0-48-21.5-48-48l0-288z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--!Font Awesome Pro 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--\x3e<path d="M56.3 66.3c-4.9-3-11.1-3.1-16.2-.3s-8.2 8.2-8.2 14l0 352c0 5.8 3.1 11.1 8.2 14s11.2 2.7 16.2-.3l288-176c4.8-2.9 7.7-8.1 7.7-13.7s-2.9-10.7-7.7-13.7l-288-176zM24.5 38.1C39.7 29.6 58.2 30 73 39L361 215c14.3 8.7 23 24.2 23 41s-8.7 32.2-23 41L73 473c-14.8 9.1-33.4 9.4-48.5 .9S0 449.4 0 432L0 80C0 62.6 9.4 46.6 24.5 38.1z"/></svg>'};static bem(...args){args=args.slice();return args.unshift("stw-wiv"),class{static bem(block,element,modifier){let name=""+block;return Validators.nonEmptyString(element)&&(name+="__"+element),Validators.nonEmptyString(modifier)&&(name+="--"+modifier),name}}.bem(...args)}static validateImageBasename(something){return Validators.nonEmptyString(something)&&/^[a-zA-Z0-9]+\.[a-zA-Z]+$/.test(something)}constructor(rootElem,imageViewerId,imageBaseUrl){this.setRootElem(rootElem),this.setImageViewerId(imageViewerId),this.setImageBaseUrl(imageBaseUrl);rootElem=this.getRootElem().ownerDocument,this.setDomHelper(new DomHelper(rootElem)),imageViewerId=parseInt(rootElem.defaultView.getComputedStyle(this.getRootElem()).zIndex)||0;this.setBaseZIndex(imageViewerId+1),this.setUp()}getImageAnimation(){var currAnimation,animations=this.getImageWrapperElem().getAnimations(),numAnimations=animations.length;for(let i=0;i<numAnimations;i++)if((currAnimation=animations[i]).id===WebcamImageViewer.IMAGE_ANIMATION_ID)return currAnimation;throw new Error("The image animation is missing")}handleControlsClicked(){var animation=this.getImageAnimation();"running"===animation.playState?(animation.pause(),this.getControlsElem().innerHTML=WebcamImageViewer.ICONS.play):(animation.play(),this.getControlsElem().innerHTML=WebcamImageViewer.ICONS.pause)}preventAllManualScrolling(){var wheelEventName="onwheel"in this.getImageWrapperElem()?"wheel":"mousewheel";this.getRootElem().addEventListener(wheelEventName,e=>e.preventDefault())}calculateDelta(){var viewerViewportWidth=this.getRootElem().clientWidth;return this.getImageElem().clientWidth-viewerViewportWidth}setUpControls(){this.preventAllManualScrolling(),this.getDomHelper().addStylesheet(`
        .${WebcamImageViewer.bem()} {
          overflow-x: auto;
        }

        .${WebcamImageViewer.bem("controls")} {
          position: absolute;
          left: 0;
          top: 0;
          right: 0;
          bottom: 0;
          z-index: ${this.getBaseZIndex()-1};  /* Initially out of view */
          opacity: 0.4;  /* (Target opacity) */
          background-color: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
        }

        .${WebcamImageViewer.bem("controls")} svg {
          height: 20%;
          fill: #fff;
        }
      `),this.getDomHelper().appendTo(`
        <div class="${WebcamImageViewer.bem("controls")}">
          ${WebcamImageViewer.ICONS.pause}
        </div>`,this.getRootElem());var oneTimeDeltaPx=this.calculateDelta(),durationMs=2*oneTimeDeltaPx/WebcamImageViewer.PIXELS_PER_SEC*1e3;this.getImageWrapperElem().animate({transform:["translateX(0)",`translateX(-${oneTimeDeltaPx}px)`,"translateX(0)"]},{id:WebcamImageViewer.IMAGE_ANIMATION_ID,duration:durationMs,iterations:1/0,easing:"linear"}).ready.then(()=>{let controlsFadeOptions={duration:100,iterations:1,easing:"ease-in"};this.getRootElem().addEventListener("mouseenter",()=>{this.getControlsElem().animate({opacity:["0",this.getControlsElem().style.opacity]},controlsFadeOptions).ready.then(()=>{this.getControlsElem().style.zIndex=String(this.getBaseZIndex()+1)})}),this.getRootElem().addEventListener("mouseleave",()=>{this.getControlsElem().animate({opacity:[this.getControlsElem().style.opacity,0]},controlsFadeOptions).finished.then(()=>{this.getControlsElem().style.zIndex=String(this.getBaseZIndex()-1)})}),this.getRootElem().addEventListener("click",this.handleControlsClicked.bind(this))})}setUp(){var imageUrl=this.getImageBaseUrl()+"/images/webcams/"+this.getImageViewerId();this.getDomHelper().addStylesheet(`
        .${WebcamImageViewer.bem()} {
          position: relative;
          overflow: hidden;
        }

        .${WebcamImageViewer.bem("","static")} .${WebcamImageViewer.bem("image-wrapper")} {
          text-align: center;
        }

        .${WebcamImageViewer.bem("","static")} .${WebcamImageViewer.bem("image-wrapper")}::before {
          --blur-radius: 12px;

          content: "";
          position: absolute;
          left: 0;
          top: 0;
          right: 0;
          bottom: 0;
          z-index: -1;
          background-image: url("${imageUrl}");
          background-size: cover;
          background-repeat: no-repeat;
          -webkit-filter: blur(var(--blur-radius));
          -moz-filter: blur(var(--blur-radius));
          -o-filter: blur(var(--blur-radius));
          -ms-filter: blur(var(--blur-radius));
          filter: blur(var(--blur-radius)) grayscale(50%);
        }

        .${WebcamImageViewer.bem("image-wrapper")},
        .${WebcamImageViewer.bem("image-wrapper")} img {
          height: 100%;
        }

        .${WebcamImageViewer.bem("image-wrapper")} {
          position: relative;
          z-index: ${this.getBaseZIndex()};
          background-color: #e2e2e5;  /* STW "light gray" */
          background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0iR3JleSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTc5LjcyIiBoZWlnaHQ9IjE1Ljk5IiB2aWV3Qm94PSIwIDAgMTc5LjcyIDE1Ljk5Ij48ZGVmcz48c3R5bGU+LmNscy0xLC5jbHMtMntmaWxsOiNlZDI1NTk7fS5jbHMtMXtmaWxsLXJ1bGU6ZXZlbm9kZDt9LmNscy0ze2ZpbGw6IzNiNDI0OTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPnNlZXRoZXdvcmxkLWxvZ288L3RpdGxlPjxnIGlkPSJzZWUiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIxLDEzLjI3YTIuODYsMi44NiwwLDAsMS0yLjY3LDIuNDZIOC4xNmMtLjg3LS4xNS0yLjQ1LS45NC0yLjUzLTJhMTUuMDYsMTUuMDYsMCwwLDAsNS4wNiwxLjQ1YzIuNjcsMCw4LjE2LTIuMzksMTAuMzMtNC4zM1pNMTguMTMuMjdDMTkuNDMuNDIsMjEsMSwyMSwyLjUxVjguMzZjLTEuNDUsMi43NS03Ljg4LDUuMjctMTAuNCw1LjI3QzcuOCwxMy42MywyLDEwLjQ1LDAsNy44NWwxLjA4LS4yMWMuMzYtLjA4LjczLS4yOSwxLjA5LS4zNkM0LjY5LDYuNDgsOCwyLjQ0LDEwLjExLDIuNDRjMS41OSwwLDYuNTcsMi4yNCw2LjU3LDQuODRTMTIsMTAuNzQsMTEuMDUsMTAuNzRBMi43MywyLjczLDAsMCwxLDguMTYsOCwyLDIsMCwwLDEsOS44OSw1LjgzYTIuMDcsMi4wNywwLDAsMC0xLjUxLDJBMi4zLDIuMywwLDAsMCwxMC42OSwxMGEyLjYzLDIuNjMsMCwwLDAsMi41My0yLjc0LDMsMywwLDAsMC0zLjExLTNBMy41MywzLjUzLDAsMCwwLDYuNzIsOCw0LjMxLDQuMzEsMCwwLDAsMTEsMTIuMjZjMS45NSwwLDcuMTUtMS41Miw3LjE1LTUsMC0zLjc2LTUuODUtNi4yOS04LTYuMjktMS41MiwwLTIuODIuODctNC40OCwyLjI0VjIuMTVDNS43OC44NSw3LjQ0LjI3LDguMzguMjdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0wLjAxKSIvPjwvZz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yNy42NSwxNmE5Ljg2LDkuODYsMCwwLDEtMy44NS0uNjgsNy45LDcuOSwwLDAsMS0yLjY5LTEuNzhsMS43OC0yLjVBNy4xMSw3LjExLDAsMCwwLDI1LDEyLjUyYTYuMzUsNi4zNSwwLDAsMCwyLjg1LjYxLDMuMjQsMy4yNCwwLDAsMCwyLS41MiwxLjUsMS41LDAsMCwwLC42Ni0xLjE5LDEsMSwwLDAsMC0uMjYtLjcxLDIuMjcsMi4yNywwLDAsMC0uNjgtLjUsNS41Myw1LjUzLDAsMCwwLTEtLjM2bC0xLjE5LS4zMWMtLjY0LS4xNC0xLjI5LS4zMS0yLS41YTcuNDgsNy40OCwwLDAsMS0xLjg3LS44QTQuMjQsNC4yNCwwLDAsMSwyMi4xNCw2LjlhMy44NSwzLjg1LDAsMCwxLS41NS0yLjE2QTQuMTUsNC4xNSwwLDAsMSwyMiwyLjkyYTQuNiw0LjYsMCwwLDEsMS4xNi0xLjQ5QTUuMiw1LjIsMCwwLDEsMjUsLjQxLDcuNTYsNy41NiwwLDAsMSwyNy40NiwwYTguNTQsOC41NCwwLDAsMSw2LDIuMTZMMzEuNjYsNC42YTYuMTMsNi4xMywwLDAsMC0yLjE0LTEuMjksNy4xOCw3LjE4LDAsMCwwLTIuMzYtLjQsMi42NywyLjY3LDAsMCwwLTEuNjQuNDNBMS4zMiwxLjMyLDAsMCwwLDI1LDQuNDZhLjkzLjkzLDAsMCwwLC4yNC42NCwxLjg4LDEuODgsMCwwLDAsLjY3LjQ1LDYuNzEsNi43MSwwLDAsMCwxLC4zNEwyOCw2LjE4Yy42My4xNSwxLjI5LjMzLDIsLjUyYTcuMDksNy4wOSwwLDAsMSwxLjg4LjgyLDQuNDMsNC40MywwLDAsMSwxLjM5LDEuMzcsMy44MywzLjgzLDAsMCwxLC41NSwyLjE2LDUsNSwwLDAsMS0uMzksMiw0LjE1LDQuMTUsMCwwLDEtMS4xNCwxLjU2LDUuNTIsNS41MiwwLDAsMS0xLjk0LDFBOC42Miw4LjYyLDAsMCwxLDI3LjY1LDE2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMC4wMSkiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0zNC45LDE1LjczVi4yN2gxMVYzLjE2SDM4LjJWNi40M2g3LjQ5djIuOUgzOC4ydjMuNWg3LjY1djIuOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNNDcuMjYsMTUuNzNWLjI3aDExVjMuMTZINTAuNTZWNi40M2g3LjQ5djIuOUg1MC41NnYzLjVoNy42NXYyLjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0wLjAxKSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTYzLjczLDE1LjczVjJINTguODRWLjI3SDcwLjU3VjJINjUuNjVWMTUuNzNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0wLjAxKSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTg0LjA5LDE1LjczVjguNjRINzV2Ny4wOUg3My4xMlYuMjdINzVWNi45Mmg5Vi4yN0g4NlYxNS43M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNODkuNjMsMTUuNzNWLjI3SDk5Ljc3VjJIOTEuNTZWN2g4VjguNjhoLThWMTRoOC4yMXYxLjcyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMC4wMSkiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0xMTQuNjUsMTUuNzNsLTMuNC0xMi40Ny0zLjQxLDEyLjQ3aC0yLjA5TDEwMS4zNC4yN2gyLjE0bDMuNDMsMTIuODlMMTEwLjQ2LjI3aDEuNmwzLjU1LDEyLjg5TDExOSwuMjdoMi4xNGwtNC40MSwxNS40NloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTIyLjIxLDhjMC00LjU2LDMuMDktOCw3LjY4LThzNy42OCwzLjQ0LDcuNjgsOC0zLjExLDgtNy42OCw4UzEyMi4yMSwxMi41OCwxMjIuMjEsOFptMTMuMzYsMGMwLTMuNjEtMi4yMy02LjI4LTUuNjgtNi4yOFMxMjQuMjEsNC40LDEyNC4yMSw4czIuMiw2LjI4LDUuNjgsNi4yOFMxMzUuNTcsMTEuNiwxMzUuNTcsOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTQ5LjUzLDE1LjczbC0zLjk0LTYuMTRIMTQyLjV2Ni4xNGgtMS45MlYuMjdoNi4yMWE0LjUxLDQuNTEsMCwwLDEsNC44NSw0LjY2LDQuMjYsNC4yNiwwLDAsMS00LDQuNDlsNC4xNyw2LjMxWm0uMTItMTAuOEEyLjg4LDIuODgsMCwwLDAsMTQ2LjU2LDJIMTQyLjVWNy45aDQuMDZBMi45LDIuOSwwLDAsMCwxNDkuNjUsNC45M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTU0LjY4LDE1LjczVi4yN2gxLjkyVjE0aDcuMTl2MS43MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTAuMDEpIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTY2LjUsMTUuNzNWLjI3aDUuMjlBNy41Miw3LjUyLDAsMCwxLDE3OS43Miw4YzAsNC40LTMuMTMsNy43Mi03LjkzLDcuNzJaTTE3Ny43Myw4YzAtMy4zNC0yLjExLTYtNS45NC02aC0zLjM2VjE0aDMuMzZBNS42OCw1LjY4LDAsMCwwLDE3Ny43Myw4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMC4wMSkiLz48L3N2Zz4=");
          background-position: center center;
          background-repeat: no-repeat;
          background-size: 60%;
        }
      `),this.getRootElem().innerHTML=`
        <div class="${WebcamImageViewer.bem("image-wrapper")}">
          <img src="${imageUrl}" loading="lazy">
        </div>`,this.getImageElem().addEventListener("load",()=>{0<this.calculateDelta()?this.setUpControls():this.getRootElem().classList.add(WebcamImageViewer.bem("","static"))})}setRootElem(elem){this.rootElem=elem}getRootElem(){return this.rootElem}setBaseZIndex(value){this.baseZIndex=value}getBaseZIndex(){return this.baseZIndex}setImageViewerId(id){var idIsAlphanumeric=Validators.alphanumericString(id),idIsABasename=WebcamImageViewer.validateImageBasename(id);if(!(idIsAlphanumeric||idIsABasename))throw new Error(`The Image Viewer ID, \`${id}\`, is invalid`);this.imageViewerId=id}getImageViewerId(){return this.imageViewerId}setImageBaseUrl(url){if(!Validators.nonEmptyString(url))throw new Error("The image base-URL is invalid");this.imageBaseUrl=url}getImageBaseUrl(){return this.imageBaseUrl}setDomHelper(domHelper){this.domHelper=domHelper}getDomHelper(){return this.domHelper}queryBem(...args){return this.getRootElem().querySelector("."+WebcamImageViewer.bem(...args))}getControlsElem(){return this.queryBem("controls")}getImageWrapperElem(){return this.queryBem("image-wrapper")}getImageElem(){return this.getImageWrapperElem().querySelector("img")}}var selector="."+WebcamImageViewer.bem();document.querySelectorAll(selector).forEach(viewerElem=>{new WebcamImageViewer(viewerElem,viewerElem.dataset.stwImageId,"https://plum.powderblue.co.uk")})}(document);